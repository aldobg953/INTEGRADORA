<!DOCTYPE html>
<html th:classappend="${usuario.darkmode} ? 'dark' : ''">
<head>
    <link rel="icon" href="css/IsotipoPathFinderTabIcon.ico" type="image/x-icon">
    <title th:text="#{tituloPerfil}">PathFinder | Perfil</title>
    <link href="/css/tailwind.css" rel="stylesheet">
    <link rel="stylesheet" href="css/global_font.css">
    <script src="/js/navbar.js"></script>
    <script src="/js/utils.js"></script>
</head>

    <body class="bg-gray-100 dark:bg-gray-800">
        <nav class="border-gray-200 bg-gradient-to-r from-cyan-500 to-blue-500 dark:bg-amber-500">
            <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto pl-6">
                <a th:href="@{/}" class="flex items-center space-x-6 rtl:space-x-reverse">
                    <div id="logo-image">
                        <img id="logo-horizontal-image" src="css/LogoLogoPathFinderHorizontal.svg" alt=""
                            style="max-width:40%;height:auto;">
                    </div>
                    <span class="self-center text-3xl font-semibold whitespace-nowrap">PathFinder</span>
                </a>

                <div class="relative flex items-center md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse">
                    <button type="button" class="flex text-sm bg-gray-800 rounded-full focus:ring-4 focus:ring-blue-600"
                        id="user-menu-button" aria-expanded="false">
                        <span class="sr-only">Menu usuario</span>
                        <img class="w-8 h-8 rounded-full"
                            src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS-kvDMFGIUOvSxdN4wetKCEXcYyk3I5WfvGQ&s"
                            alt="user photo">
                    </button>

                </div>
                <div class="hidden absolute right-0 mt-8 mr-8 md:mt-64 md:mr-36 w-48 bg-white divide-y divide-gray-100 rounded-lg shadow-lg dark:bg-gray-700 dark:divide-gray-600 z-20"
                    id="user-dropdown">
                    <div class="px-4 py-3">
                        <span class="block text-sm text-black-900 dark:text-white"
                            th:text="${usuario.nombre} + ' ' + ${usuario.apellidoP}">usuario</span>
                        <span class="block text-sm text-gray-500 truncate dark:text-gray-400"
                            th:text="${usuario.email} ">correo</span>
                    </div>
                    <ul class="py-2" aria-labelledby="user-menu-button">
                        <li>
                            <a th:href="@{/configuracion/perfil?lang=}+${usuario.lang}"
                                class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-300 dark:text-white" th:text="#{perfiil}">Perfil</a>
                        </li>
                        <li>
                            <a th:href="@{/configuracion?lang=}+${usuario.lang}" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-300 dark:text-white">Configuraciones</a>
                        </li>
                        <li>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-300 dark:text-white" th:text="#{favoritoss}">Favoritos</a>
                        </li>
                        <li>
                            <a th:href="@{/logout}" class="block px-4 py-2 text-sm text-black-700 hover:bg-gray-300 dark:text-white" th:text="#{cierreSesion}">Cerrar
                                sesion</a>
                        </li>
                    </ul>
                </div>

                <div class="items-center justify-between  w-full md:flex md:w-auto md:order-1">
                    <ul class="flex flex-col font-medium p-4 mt-4 md:space-x-8 md:flex-row md:mt-0 md:border-0">
                        <li>
                            <a th:href="@{/}" class="text-2xl py-2 px-3 md:p-0" aria-current="page" th:text="#{inicioo}">Inicio</a>
                        </li>
                        <li>
                            <a th:href="@{/universidades?lang=}+${usuario.lang}"class="text-2xl py-2 px-3 md:p-0" th:text="#{universidadess}">Universidades</a>
                        </li>
                        <li>
                            <a th:href="@{/carreras/all?lang=}+${usuario.lang}" class="text-2xl py-2 px-3 md:p-0" th:text="#{carrerass}">Carreras</a>
                        </li>
                        <li>
                            <a th:href="@{/carreras/areas?lang=}+${usuario.lang}"class="text-2xl py-2 px-3 md:p-0" th:text="#{areass}">Area</a>
                        </li>
                        <li>
                            <a href="#" class="text-2xl py-2 px-3 md:p-0" th:text="#{contacto}">Contacto</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <h1 class="mx-28 mb-4 text-3xl font-extrabold text-gray-900 dark:text-white md:text-5xl lg:text-6xl">Selecciona tu foto de perfil de <span class="text-transparent bg-clip-text bg-gradient-to-r to-emerald-600 from-sky-400">PathFinder</span></h1>
        <p class="mx-28 text-lg font-normal text-gray-500 lg:text-xl dark:text-gray-400">Puedes cambiar la foto de perfil, siempre que gustes.</p>

        <div class="border border-blue-800 md:mx-28 rounded-lg my-10 shadow-lg shadow-blue-500/50 p-6">
                <div class="flex flex-wrap justify-center">
                    <div th:each="i : ${#numbers.sequence(1, 4)}" class="image-option m-4 cursor-pointer">
                        <div class="relative">
                            <img th:src="@{'/img/perfilUsuario/perfil' + ${i} + '.jpg'}" 
                                 th:alt="'perfil ' + ${i}"
                                 th:data-name="'perfil' + ${i}" 
                                 class="w-56 h-56 rounded-full "
                                 data-index="${i}" />
                            <div class="absolute inset-0 rounded-full ring-4 ring-transparent transition-all duration-200 select-border"></div>
                        </div>
                    </div>
                </div>
                <form th:action="@{/configuracion/seleccionarperfil}" method="post">
                <input type="hidden" id="selectedImage" name="selectedImage" />
                <div class="mt-8 flex justify-center">
                    <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                        Enviar selecci칩n
                    </button>
                </div>
            </form>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function() {
    const imageContainers = document.querySelectorAll(".image-option");
    const hiddenInput = document.getElementById("selectedImage");

    imageContainers.forEach(container => {
        container.addEventListener("click", function() {
            // Eliminar el borde de todas las im치genes
            imageContainers.forEach(container => {
                container.querySelector(".select-border").classList.remove("ring-blue-500");
                container.querySelector(".select-border").classList.add("ring-transparent");
            });

            // A침adir el borde a la imagen seleccionada
            this.querySelector(".select-border").classList.remove("ring-transparent");
            this.querySelector(".select-border").classList.add("ring-blue-500");

            // Establecer el valor del campo oculto usando el data-name de la imagen
            hiddenInput.value = this.querySelector("img").getAttribute("data-name");
            console.log("Selected Image:", hiddenInput.value); // Para depuraci칩n
        });
    });
});

        </script>
        
    </body>
</html>